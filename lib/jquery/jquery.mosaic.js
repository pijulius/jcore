(function(b){if(!b.omr)b.omr={};b.omr.mosaic=function(c,e){var a=this;a.$el=b(c);a.el=c;a.$el.data("omr.mosaic",a);a.init=function(){a.options=b.extend({},b.omr.mosaic.defaultOptions,e);a.load_box()};a.load_box=function(){a.options.preload?(b(a.options.backdrop,a.el).hide(),b(a.options.overlay,a.el).hide(),b(window).load(function(){a.options.options.animation=="fade"&&b(a.options.overlay,a.el).css("opacity")==0&&b(a.options.overlay,a.el).css("filter","alpha(opacity=0)");b(a.options.overlay,a.el).fadeIn(200,
function(){b(a.options.backdrop,a.el).fadeIn(200)});a.allow_hover()})):(b(a.options.backdrop,a.el).show(),b(a.options.overlay,a.el).show(),a.allow_hover())};a.allow_hover=function(){switch(a.options.animation){case "fade":b(a.el).hover(function(){b(a.options.overlay,a.el).stop().fadeTo(a.options.speed,a.options.opacity)},function(){b(a.options.overlay,a.el).stop().fadeTo(a.options.speed,0)});break;case "slide":startX=b(a.options.overlay,a.el).css(a.options.anchor_x)!="auto"?b(a.options.overlay,a.el).css(a.options.anchor_x):
"0px";startY=b(a.options.overlay,a.el).css(a.options.anchor_y)!="auto"?b(a.options.overlay,a.el).css(a.options.anchor_y):"0px";var c={};c[a.options.anchor_x]=a.options.hover_x;c[a.options.anchor_y]=a.options.hover_y;var d={};d[a.options.anchor_x]=startX;d[a.options.anchor_y]=startY;b(a.el).hover(function(){b(a.options.overlay,a.el).stop().animate(c,a.options.speed)},function(){b(a.options.overlay,a.el).stop().animate(d,a.options.speed)})}};a.init()};b.omr.mosaic.defaultOptions={animation:"fade",speed:150,
opacity:1,preload:0,anchor_x:"left",anchor_y:"bottom",hover_x:"0px",hover_y:"0px",overlay:".mosaic-overlay",backdrop:".mosaic-backdrop"};b.fn.mosaic=function(c){return this.each(function(){new b.omr.mosaic(this,c)})}})(jQuery);
